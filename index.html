<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>睡眠提案 (๑´ㅂ`๑)</title>
    <style>
        :root {
            --bg: #fdfdfd;
            --text: #4a4a4a;
            --highlight: #ff6b6b;
        }

        body { 
            font-family: "PingFang TC", "Microsoft JhengHei", sans-serif; 
            background: var(--bg); color: var(--text); 
            display: flex; flex-direction: column; align-items: center; justify-content: center; 
            min-height: 100vh; margin: 0; padding: 20px;
        }

        h1 { font-size: 2.5rem; font-weight: 700; letter-spacing: 5px; margin-bottom: 30px; color: #555; }
        
        .wheel-box { position: relative; width: 450px; height: 450px; }
        
        /* 醒目的紅色指標 */
        .pointer { 
            position: absolute; top: -20px; left: 50%; transform: translateX(-50%); 
            width: 4px; height: 60px; background: var(--highlight); z-index: 10; 
            border-radius: 2px;
        }
        .pointer::after {
            content: ''; position: absolute; bottom: -10px; left: -8px;
            border-left: 10px solid transparent; border-right: 10px solid transparent; border-top: 20px solid var(--highlight);
        }

        canvas { 
            width: 100%; height: 100%; border-radius: 50%; 
            border: 8px solid #fff; box-shadow: 0 15px 40px rgba(0,0,0,0.1);
            transition: transform 5s cubic-bezier(0.15, 0, 0.15, 1); 
        }

        .controls { margin-top: 50px; }
        button { 
            padding: 15px 60px; font-size: 1.5rem; cursor: pointer; border-radius: 50px; 
            border: 2px solid var(--highlight); background: #fff; color: var(--highlight); 
            transition: all 0.3s; font-weight: bold; box-shadow: 0 4px 15px rgba(255,107,107,0.2);
        }
        button:hover { background: var(--highlight); color: #fff; transform: translateY(-3px); }
        button:disabled { opacity: 0.5; cursor: not-allowed; transform: none; }

        /* 結果顯示區：大字體 */
        #result { margin-top: 35px; font-size: 2.5rem; color: var(--highlight); font-weight: 800; min-height: 3rem; }
        #comment { 
            margin-top: 20px; font-size: 1.6rem; color: #666; 
            max-width: 500px; text-align: center; line-height: 1.5; font-weight: 500;
        }
    </style>
</head>
<body>

    <h1>睡眠提案 ( ˘ω˘ )</h1>
    
    <div class="wheel-box">
        <div class="pointer"></div>
        <canvas id="wheelCanvas" width="600" height="600"></canvas>
    </div>

    <div class="controls">
        <button id="spinBtn">抽取今晚 (・ω・)ノ</button>
    </div>

    <div id="result"></div>
    <div id="comment"></div>

    <script>
        const canvas = document.getElementById('wheelCanvas');
        const ctx = canvas.getContext('2d');
        const btn = document.getElementById('spinBtn');
        const resultText = document.getElementById('result');
        const commentText = document.getElementById('comment');

        const data = [
            { label: "通宵", msg: "真的很『肝』尬呢... ( ;´д｀)" },
            { label: "8 小時", msg: "睡眠界的超級富翁！ ( °ω° )" },
            { label: "30 分鐘", msg: "這只是大腦稍微斷片而已 (ﾟдﾟ)" },
            { label: "6 小時", msg: "『陸』續補眠中，機能維持 (´-ω-`)" },
            { label: "再來一次", msg: "命運叫你重抽，快平反！ ( ᐛ )" },
            { label: "15 分鐘", msg: "時間短到夢都沒開始寫 ( ¯•ω•¯ )" },
            { label: "7 小時", msg: "『妻』望中的完美平衡點 (´▽｀)" },
            { label: "睡一整天", msg: "睡覺界的一『直』標竿 (¦3[▓▓]" },
            { label: "5 小時", msg: "『五』力全開！撐住啊 (ง'̀-'́)ง" },
            { label: "1 小時", msg: "『醫』點都不夠，保重身體 (´;ω;`)" },
            { label: "4 小時", msg: "半夢半醒，看誰都像外星人 (⊙ˍ⊙)" },
            { label: "再來一次", msg: "手滑了吧？再給你一次機會 (๑•̀ㅂ•́)و" },
            { label: "8 小時", msg: "神清氣爽，可以去打老虎了 ✨" },
            { label: "10 分鐘", msg: "這真的太『拾』分不足了 (´Д` )" },
            { label: "6 小時", msg: "普通的六小時，普通的快樂 (・∀・)" },
            { label: "睡到爽", msg: "枕頭發出了熱情邀請 ヽ(✿ﾟ▽ﾟ)ノ" }
        ];
        
        // 飽和清新的配色
        const colors = ["#FFADAD", "#FFD6A5", "#FDFFB6", "#CAFFBF", "#9BFBC0", "#A0C4FF", "#BDB2FF", "#FFC6FF"];
        const numSegments = data.length;
        const arc = 2 * Math.PI / numSegments;
        let currentAngle = 0;

        function drawWheel() {
            data.forEach((item, i) => {
                const angle = i * arc;
                ctx.fillStyle = colors[i % colors.length];
                ctx.beginPath();
                ctx.moveTo(300, 300);
                ctx.arc(300, 300, 300, angle, angle + arc);
                ctx.lineTo(300, 300);
                ctx.fill();
                ctx.strokeStyle = "#fff";
                ctx.lineWidth = 2;
                ctx.stroke();

                ctx.save();
                ctx.translate(300, 300);
                ctx.rotate(angle + arc / 2);
                ctx.textAlign = "right";
                ctx.fillStyle = "#444";
                ctx.font = "bold 22px Arial"; // 加大轉盤文字
                ctx.fillText(item.label, 270, 10);
                ctx.restore();
            });
        }

        drawWheel();

        function spin() {
            btn.disabled = true;
            resultText.innerText = "挑選中... ( ˘ω˘ )";
            commentText.style.display = "none";
            
            const spinAngle = Math.floor(Math.random() * 360) + 4320; 
            currentAngle += spinAngle;
            canvas.style.transform = `rotate(${currentAngle}deg)`;

            setTimeout(() => {
                const actualRotation = currentAngle % 360;
                const winningIndex = Math.floor(((360 - actualRotation + 270) % 360) / (360 / numSegments));
                const finalResult = data[winningIndex];
                
                resultText.innerText = finalResult.label;
                commentText.innerText = finalResult.msg;
                commentText.style.display = "block";
                
                btn.disabled = false;
            }, 5000);
        }

        btn.addEventListener('click', spin);
    </script>
</body>
</html>
