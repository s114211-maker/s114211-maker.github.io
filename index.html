<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æœŸæœ«è‚è‹¦è«‡ï¼šç¡çœ å‘½é‹è½‰ç›¤</title>
    <style>
        body { font-family: 'Microsoft JhengHei', sans-serif; background: #1a1a2e; color: #fff; display: flex; flex-direction: column; align-items: center; justify-content: center; min-height: 100vh; margin: 0; overflow: hidden; }
        h1 { margin-bottom: 20px; text-shadow: 0 0 10px #ff00ff; }
        
        .wheel-box { position: relative; width: 400px; height: 400px; }
        
        /* æŒ‡é‡ */
        .pointer { position: absolute; top: -10px; left: 50%; transform: translateX(-50%); width: 0; height: 0; border-left: 20px solid transparent; border-right: 20px solid transparent; border-top: 40px solid #ff2e63; z-index: 10; filter: drop-shadow(0 0 5px rgba(0,0,0,0.5)); }

        canvas { width: 100%; height: 100%; border-radius: 50%; border: 8px solid #30e3ca; box-shadow: 0 0 20px rgba(48, 227, 202, 0.5); transition: transform 5s cubic-bezier(0.1, 0, 0.1, 1); }

        .controls { margin-top: 40px; }
        button { padding: 12px 35px; font-size: 1.2rem; cursor: pointer; border-radius: 50px; border: none; background: #30e3ca; color: #1a1a2e; font-weight: bold; transition: 0.3s; box-shadow: 0 5px 15px rgba(48, 227, 202, 0.4); }
        button:hover { background: #ff2e63; color: white; transform: scale(1.1); }
        button:disabled { background: #555; cursor: not-allowed; }

        #result { margin-top: 25px; font-size: 1.8rem; height: 2rem; color: #f9ed69; text-shadow: 0 0 5px rgba(249, 237, 105, 0.5); }
    </style>
</head>
<body>

    <h1>ğŸš€ æœŸæœ«å ±å‘Šï¼šç¡çœ å‘½é‹è½‰ç›¤</h1>
    
    <div class="wheel-box">
        <div class="pointer"></div>
        <canvas id="wheelCanvas" width="400" height="400"></canvas>
    </div>

    <div class="controls">
        <button id="spinBtn">å‘½é‹äº¤çµ¦ GitHub Pagesï¼</button>
    </div>

    <div id="result"></div>

    <script>
        const canvas = document.getElementById('wheelCanvas');
        const ctx = canvas.getContext('2d');
        const btn = document.getElementById('spinBtn');
        const resultText = document.getElementById('result');

        // æç¬‘é¸é …åˆ—è¡¨ (12æ ¼)
        const options = [
            "é€šå®µå¯« Code", "30 åˆ†é˜", "8 å°æ™‚(å¤¢è£¡)", "å†ä¾†ä¸€æ¬¡", 
            "ç¡ä¸€æ•´å¤©", "1 å°æ™‚", "é€šå®µçœ‹åŠ‡", "å†ä¾†ä¸€æ¬¡",
            "4 å°æ™‚", "15 åˆ†é˜", "ç¡åˆ°æœŸæœ«è€ƒå®Œ", "ç›´æ¥é€€å­¸(èª¤)"
        ];
        
        const colors = ["#ff9f43", "#ee5253", "#0abde3", "#10ac84", "#5f27cd", "#ff9ff3", "#feca57", "#ff6b6b", "#48dbfb", "#1dd1a1", "#00d2d3", "#54a0ff"];
        
        const numSegments = options.length;
        const arc = 2 * Math.PI / numSegments;
        let currentAngle = 0;

        // ç¹ªè£½è½‰ç›¤
        function drawWheel() {
            options.forEach((text, i) => {
                const angle = i * arc;
                ctx.fillStyle = colors[i % colors.length];
                ctx.beginPath();
                ctx.moveTo(200, 200);
                ctx.arc(200, 200, 200, angle, angle + arc);
                ctx.lineTo(200, 200);
                ctx.fill();

                // ç¹ªè£½æ–‡å­—
                ctx.save();
                ctx.translate(200, 200);
                ctx.rotate(angle + arc / 2);
                ctx.textAlign = "right";
                ctx.fillStyle = "#fff";
                ctx.font = "bold 16px Arial";
                ctx.fillText(text, 180, 10);
                ctx.restore();
            });
        }

        drawWheel();

        function spin() {
            btn.disabled = true;
            resultText.innerText = "æ—‹è½‰ä¸­...";
            
            const spinAngle = Math.floor(Math.random() * 360) + 2880; // æ—‹è½‰è‡³å°‘ 8 åœˆ
            currentAngle += spinAngle;
            
            canvas.style.transform = `rotate(${currentAngle}deg)`;

            setTimeout(() => {
                // è¨ˆç®—åœæ­¢åœ¨å“ªä¸€æ ¼
                const actualRotation = currentAngle % 360;
                // è½‰ç›¤æ—‹è½‰æ˜¯é †æ™‚é‡ï¼Œæ‰€ä»¥è¦ç”¨ 360 æ¸›å»è§’åº¦ä¾†æ›ç®— index
                // æŒ‡é‡åœ¨ä¸Šæ–¹ (270åº¦ä½ç½®)ï¼Œæ‰€ä»¥è¦åŠ åç§»é‡è¨ˆç®—
                const winningIndex = Math.floor(((360 - actualRotation + 270) % 360) / (360 / numSegments));
                const result = options[winningIndex];
                
                resultText.innerText = `æœ€çµ‚å‘½é‹ï¼š${result}`;
                
                if(result === "å†ä¾†ä¸€æ¬¡") {
                    setTimeout(() => { alert("é‹æ°£çœŸå¥½ï¼å†ä¾†ä¸€æ¬¡ï¼"); btn.disabled = false; }, 500);
                } else {
                    btn.disabled = false;
                }
            }, 5000);
        }

        btn.addEventListener('click', spin);
    </script>
</body>
</html>
